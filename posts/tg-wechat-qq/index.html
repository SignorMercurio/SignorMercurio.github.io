<!doctype html><html lang=zh dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="rgb(255,255,255)"><meta http-equiv=x-ua-compatible content="ie=edge"><title>去繁就简：用 Telegram 收发微信和 QQ 消息 &#183; Lab on Mercury</title><meta name=title content="去繁就简：用 Telegram 收发微信和 QQ 消息 &#183; Lab on Mercury"><meta name=description content="和毒瘤软件说再见。"><link rel=canonical href=https://blog.sigmerc.top/posts/tg-wechat-qq/><link type=text/css rel=stylesheet href=/css/main.bundle.min.a0c401e48d53b1e212abf40187caba7e826ef5d05042554c86993578bb0238c0306d206aa72dbfbd4e3188389d731e32454d10828845ed91739918d38d23a3cc.css integrity="sha512-oMQB5I1TseISq/QBh8q6foJu9dBQQlVMhpk1eLsCOMAwbSBqpy2/vU4xiDidcx4yRU0QgohF7ZFzmRjTjSOjzA=="><script type=text/javascript src=/js/appearance.min.1e44157c1e51b46341ce2c94716dd3dd1ef30c28e7d1c9f3b9db80877bfe72bc66b00d8a662f317840016acbed93c5f18c3d9268c8b957021ee74d0b04adf6c5.js integrity="sha512-HkQVfB5RtGNBziyUcW3T3R7zDCjn0cnzuduAh3v+crxmsA2KZi8xeEABasvtk8XxjD2SaMi5VwIe500LBK32xQ=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.6d78c827ca7bcbf72056dbf698bf9aeb759a08966686187deb23f5949f73eca5f39b461284900cdfc08e2976d99eb80a8663648de778ba2a83e633ae16dbfc25.js integrity="sha512-bXjIJ8p7y/cgVtv2mL+a63WaCJZmhhh96yP1lJ9z7KXzm0YShJAM38COKXbZnrgKhmNkjed4uiqD5jOuFtv8JQ==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="去繁就简：用 Telegram 收发微信和 QQ 消息"><meta property="og:description" content="和毒瘤软件说再见。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.sigmerc.top/posts/tg-wechat-qq/"><meta property="og:image" content="https://blog.sigmerc.top/posts/tg-wechat-qq/feature.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-18T22:22:53+08:00"><meta property="article:modified_time" content="2023-01-10T00:07:22+08:00"><meta property="og:site_name" content="Lab on Mercury"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.sigmerc.top/posts/tg-wechat-qq/feature.png"><meta name=twitter:title content="去繁就简：用 Telegram 收发微信和 QQ 消息"><meta name=twitter:description content="和毒瘤软件说再见。"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"去繁就简：用 Telegram 收发微信和 QQ 消息","headline":"去繁就简：用 Telegram 收发微信和 QQ 消息","abstract":"\u003cp\u003e和毒瘤软件说再见。\u003c\/p\u003e","inLanguage":"zh-cn","url":"https:\/\/blog.sigmerc.top\/posts\/tg-wechat-qq\/","author":{"@type":"Person","name":"Mercury"},"copyrightYear":"2022","dateCreated":"2022-08-18T22:22:53\u002b08:00","datePublished":"2022-08-18T22:22:53\u002b08:00","dateModified":"2023-01-10T00:07:22\u002b08:00","keywords":["微信","实践记录"],"mainEntityOfPage":"true","wordCount":"785"}]</script><meta name=author content="Mercury"><link href=mailto:signormercurio@gmail.com rel=me><link href=https://github.com/SignorMercurio rel=me><link href=https://t.me/m9r_at_tG rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><nav class="flex justify-between"><div><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentcolor" d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438.0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1H112L112.1 454.3zM191.4.0132C89.44.3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8 16.53 18.84 42.34 58.23 52.22 91.45.0313.25.0938.5166.125.7823h160.2c.0313-.2656.0938-.5166.125-.7823 9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1 368 78.61 288.9-.2837 191.4.0132zM192 96.01c-44.13.0-80 35.89-80 79.1.0 9.69-7.2 16.89-16 16.89S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1 8.844.0 16 7.159 16 16S200.8 96.01 192 96.01z"/></svg></span><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>Lab on Mercury</a></div><ul class="flex flex-col list-none ltr:text-right rtl:text-left sm:flex-row"><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/posts/ title=Posts>文章</a></li><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/categories/ title=Categories>分类</a></li><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>标签</a></li><li class="ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><button id=search-button class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Search (/)">
<span class="relative inline-block align-text-bottom icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button></li></ul></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/>Lab on Mercury</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/>Posts</a><span class="px-1 text-primary-500">/</span></li><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/tg-wechat-qq/>去繁就简：用 Telegram 收发微信和 QQ 消息</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">去繁就简：用 Telegram 收发微信和 QQ 消息</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-08-18 22:22:53 +0800 +0800">2022-08-18</time><span class="px-2 text-primary-500">&#183;</span><time datetime="2023-01-10 00:07:22 +0800 +0800">Updated: 2023-01-10</time></div><div class="my-1 text-xs text-neutral-500 dark:text-neutral-400"><a href=/categories/%E6%8E%A2%E7%B4%A2/ class="rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">探索</a>
<a href=/tags/%E5%BE%AE%E4%BF%A1/ class="rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">微信</a>
<a href=/tags/%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95/ class="rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">实践记录</a></div></div><img class="mb-6 -mt-4 rounded-md" srcset="/posts/tg-wechat-qq/feature_hu923ce347d84c6716c4eb59355c185179_78291_330x0_resize_box_3.png 330w,/posts/tg-wechat-qq/feature_hu923ce347d84c6716c4eb59355c185179_78291_660x0_resize_box_3.png 660w,/posts/tg-wechat-qq/feature_hu923ce347d84c6716c4eb59355c185179_78291_1024x0_resize_box_3.png 1024w,/posts/tg-wechat-qq/feature_hu923ce347d84c6716c4eb59355c185179_78291_1320x0_resize_box_3.png 2x" src=/posts/tg-wechat-qq/feature_hu923ce347d84c6716c4eb59355c185179_78291_660x0_resize_box_3.png></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open class="mt-0 sideNav rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 lg:mt-3"><summary class="block sticky top-0 py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 pr-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#动机>动机</a></li><li><a href=#背景>背景</a></li><li><a href=#原理>原理</a></li><li><a href=#实现>实现</a><ul><li><a href=#环境>环境</a></li><li><a href=#版本信息>版本信息</a></li><li><a href=#参考步骤>参考步骤</a><ul><li><a href=#安装>安装</a></li><li><a href=#设置-telegram-bot>设置 Telegram Bot</a></li><li><a href=#设置-telegram-master>设置 Telegram Master</a></li><li><a href=#设置-eh-forwarder-bot>设置 EH Forwarder Bot</a></li><li><a href=#设置-wechat-slave>设置 Wechat Slave</a></li><li><a href=#设置-qq-slave>设置 QQ Slave</a></li><li><a href=#设置并运行-go-cqhttp>设置并运行 go-cqhttp</a></li><li><a href=#运行-eh-forwarder-bot>运行 EH Forwarder Bot</a></li><li><a href=#使用事件过滤器>使用事件过滤器</a></li></ul></li></ul></li><li><a href=#结果>结果</a></li><li><a href=#附录利用-telegram-整合其他信息>附录：利用 Telegram 整合其他信息</a><ul><li><a href=#slack-消息>Slack 消息</a></li><li><a href=#github-通知>GitHub 通知</a></li><li><a href=#gmail-邮件>Gmail 邮件</a></li><li><a href=#rss-订阅>RSS 订阅</a></li></ul></li><li><a href=#参考资料>参考资料</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose grow"><p>和毒瘤软件说再见。</p><h2 id=动机 class="relative group">动机 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%8a%a8%e6%9c%ba aria-label=锚点>#</a></span></h2><p>为什么要用 Telegram 收发微信和 QQ 消息？不仅是因为 Telegram bot 好玩而这恰好可以作为一次实践机会，还有如下几点原因：</p><ul><li>可以减少受到此类毒瘤软件的毒害</li><li>可以在 PC 上卸载微信和 QQ 客户端，在手机上卸载 QQ 客户端并大幅减少打开微信的频率；同时微信也不再需要常驻后台</li><li>天下苦微信久矣。但相比完全不使用微信，这种方式能给自己和他人带来更少麻烦</li><li>在 Telegram 上获得更好的使用体验</li><li>对消息的管理更便捷，例如可以将多个微信群的消息转发到同一个 Telegram 群组中（随后可以选择静音群组）</li><li>将所有消息聚合至同一软件，减少切换，方便管理和查看</li></ul><h2 id=背景 class="relative group">背景 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%83%8c%e6%99%af aria-label=锚点>#</a></span></h2><p>早期大部分微信用户可以顺畅地登录和使用微信网页版，因此以 <a href=https://itchat.readthedocs.io/zh/latest/ target=_blank>itchat</a> 为代表的一系列利用微信 Web API 实现个人账号自动化的框架十分火热。但好景不长，微信很快限制了绝大部分用户登录网页版的能力，致使 Web API 近乎等同于失效。</p><p>随后开发者发现 UOS 版的微信是微信网页版套了 Electron 的壳，因此使用 UOS 版微信作为 UA 可以绕过这一限制。然而这一举措随着 UOS 微信无法登录再次失效。遭受同样命运的还有利用文件传输助手登录网页版微信的办法。但近期出于未知原因，UOS 版微信登录突然恢复了，使得网页版微信再次成为可能。</p><p>此外，还存在多种利用 Windows hook 的方式，如 <a href=http://www.keaimao.com/dev/guide/#%E8%BD%AF%E4%BB%B6%E7%AE%80%E4%BB%8B target=_blank>可爱猫</a> 等。但利用此类框架收发消息需要 Windows VPS，成本较高。</p><p>QQ 也曾出现过类似的大规模封禁 QQ 机器人的事件，但相比微信更开放的生态催生了诸如 <a href=https://github.com/mamoe/mirai target=_blank>mirai</a>、<a href=https://github.com/Mrs4s/go-cqhttp target=_blank>go-cqhttp</a> 这样的优秀自动化框架，能让我们轻松许多。</p><h2 id=原理 class="relative group">原理 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%8e%9f%e7%90%86 aria-label=锚点>#</a></span></h2><p>调研初期，预期的目标仅仅是尽可能减少对微信客户端的依赖。而经过调研，目前最为成熟（且免费）的方案是使用 ehForwarderBot 将消息转发至 Telegram。 其原理大致如图：</p><p><figure><img class="my-0 rounded-md" srcset="/posts/tg-wechat-qq/1_hu75a4f9a88ff9dac577471b20bf7e5900_349131_330x0_resize_box_3.png 330w,
/posts/tg-wechat-qq/1_hu75a4f9a88ff9dac577471b20bf7e5900_349131_660x0_resize_box_3.png 660w,
/posts/tg-wechat-qq/1_hu75a4f9a88ff9dac577471b20bf7e5900_349131_1024x0_resize_box_3.png 1024w,
/posts/tg-wechat-qq/1_hu75a4f9a88ff9dac577471b20bf7e5900_349131_1320x0_resize_box_3.png 2x" src=/posts/tg-wechat-qq/1_hu75a4f9a88ff9dac577471b20bf7e5900_349131_660x0_resize_box_3.png alt></figure></p><p>可以看到，我们首先需要一个 Telegram Bot 作为前端，并在自己的服务器上启动 EH Forwarder Bot 作为后端。根据配置文件它会启动 Telegram Master 用于和 EH Forwarder Bot 直接通信，而 Telegram Master 则会和两个 Slave 通信。Wechat Slave 利用 UOS 版请求头与微信 API 交互，而 QQ Slave 则通过另外启动的 QQ 客户端来访问 QQ 的 API。这里的 QQ 客户端当然不是我们平时使用的桌面版 GUI 客户端，而是类似 mirai、go-cqhttp 这样的交互框架。这个例子里我们使用更轻量的 go-cqhttp。</p><h2 id=实现 class="relative group">实现 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%ae%9e%e7%8e%b0 aria-label=锚点>#</a></span></h2><h3 id=环境 class="relative group">环境 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%8e%af%e5%a2%83 aria-label=锚点>#</a></span></h3><ul><li>能够同时访问微信、QQ、Telegram 的 API 的服务器（如果不能访问 Telegram API 则需要在服务器上额外配置代理或使用境外服务器反代）</li><li>Python 3.6+</li><li>可正常使用的 Telegram 账号</li></ul><h3 id=版本信息 class="relative group">版本信息 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%89%88%e6%9c%ac%e4%bf%a1%e6%81%af aria-label=锚点>#</a></span></h3><ul><li><a href=https://github.com/ehForwarderBot/ehForwarderBot target=_blank>ehForwarderBot</a> v2.1.1</li><li><a href=https://github.com/ehForwarderBot/efb-telegram-master target=_blank>efb-telegram-master</a> v2.3.0</li><li><a href=https://github.com/ehForwarderBot/efb-wechat-slave target=_blank>efb-wechat-slave</a> v2.0.7</li><li><a href=https://github.com/ehForwarderBot/efb-qq-slave target=_blank>efb-qq-slave</a> v2.0.1</li><li><a href=https://github.com/Mrs4s/go-cqhttp target=_blank>go-cqhttp</a> v1.0.0-rc3</li><li><a href=https://github.com/ehForwarderBot/efb-qq-plugin-go-cqhttp target=_blank>efb-qq-plugin-go-cqhttp</a> @master</li></ul><h3 id=参考步骤 class="relative group">参考步骤 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%8f%82%e8%80%83%e6%ad%a5%e9%aa%a4 aria-label=锚点>#</a></span></h3><h4 id=安装 class="relative group">安装 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%ae%89%e8%a3%85 aria-label=锚点>#</a></span></h4><p>手动安装并不复杂，但使用自动脚本更简单，注意这一自动脚本仅仅设置微信转发：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ wget https://raw.githubusercontent.com/hookjk100/efb-install/main/install.sh -O install.sh <span class=o>&amp;&amp;</span> chmod +x install.sh <span class=o>&amp;&amp;</span> bash install.sh
</span></span></code></pre></div><p>这一脚本最重要的是会自动设置守护进程，免去许多麻烦。随后 patch 一下 efb-wechat-slave 并安装剩余依赖：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ pip3 uninstall efb-wechat-slave
</span></span><span class=line><span class=cl>$ pip3 install git+https://github.com/ehForwarderBot/efb-wechat-slave
</span></span><span class=line><span class=cl>$ pip3 install efb-qq-slave
</span></span><span class=line><span class=cl>$ wget https://github.com/Mrs4s/go-cqhttp/releases/download/v1.0.0-rc3/go-cqhttp_1.0.0-rc3_linux_amd64.deb
</span></span><span class=line><span class=cl>$ dpkg -i go-cqhttp_1.0.0-rc3_linux_amd64.deb
</span></span><span class=line><span class=cl>$ pip install git+https://github.com/XYenon/efb-qq-plugin-go-cqhttp
</span></span></code></pre></div><h4 id=设置-telegram-bot class="relative group">设置 Telegram Bot <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%ae%be%e7%bd%ae-telegram-bot aria-label=锚点>#</a></span></h4><p>安装时不妨先去 Telegram 找 @BotFather 创建自己的 Bot，并记得 <code>/setprivacy</code> 为 <code>Disable</code> 来让 Bot 也能收取非 <code>/</code> 开头的消息。最后 <code>/setcommand</code>：</p><pre tabindex=0><code>/link
     将一个远端会话与一个空 Telegram 群组绑定。
     通过附加正则表达式来筛选结果。
/chat
     生成一个会话头以开始会话。
     通过附加正则表达式来筛选结果。
/extra
     列出所有由从端提供的附加功能。
/unlink_all
     断开该会话中的所有远程会话。
/info
     显示该 Telegram 会话的相关信息。
/react [emoji]
     使用 emoji 对一条消息进行回应，或者列出所有组员做出过的回应。
/update_info
     更新被绑定 Telegram 群组的详情信息。
     只对被单独绑定且 Bot 为管理员的群组有效。
/rm
     从远端会话中移除被引用回复的消息。
/help
     显示本帮助信息。
</code></pre><p>这里比较重要的是 <code>/link</code> 命令和 <code>/chat</code> 命令。前者可以将来自同一联系人的消息分流到同一个 Telegram Group 或 Channel 中，后者则能新发起一个对话。利用 <code>/update_info</code> ，甚至可以将原群组的名称、头像和成员列表同步过来。</p><h4 id=设置-telegram-master class="relative group">设置 Telegram Master <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%ae%be%e7%bd%ae-telegram-master aria-label=锚点>#</a></span></h4><p>保存 Bot 的 token，并写入 Telegram Master 的配置 <code>~/.ehforwarderbot/profiles/default/blueset.telegram/config.yaml</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;your bot token&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>admins</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>your Telegram ID</span><span class=w>
</span></span></span></code></pre></div><p><code>admins</code> 决定了哪些用户能管理 Bot，即利用 Bot 收发消息，这里的 Telegram ID 可以通过现有的许多 ID Bot 获得。</p><h4 id=设置-eh-forwarder-bot class="relative group">设置 EH Forwarder Bot <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%ae%be%e7%bd%ae-eh-forwarder-bot aria-label=锚点>#</a></span></h4><p>然后修改 <code>~/.ehforwarderbot/profiles/default/config.yaml</code>，即 EH Forwarder Bot 本身的配置：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ===================================</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># EH Forwarder Bot Configuration File</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># ===================================</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># This file determines what modules, including master channel, slave channels,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># and middlewares, are enabled in this profile.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Master Channel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># --------------</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Exactly one instance of a master channel is required for a profile.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Fill in the module ID and instance ID (if needed) below.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>master_channel</span><span class=p>:</span><span class=w> </span><span class=l>blueset.telegram</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Slave Channels</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># --------------</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># At least one slave channel is required for a profile.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Fill in the module ID and instance ID (if needed) of each slave channel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># to be enabled below.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>slave_channels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>blueset.wechat</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>milkice.qq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Middlewares</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># -----------</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Middlewares are not required to run an EFB profile. If you are not</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># going to use any middleware in this profile, you can safely remove</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># this section. Otherwise, please list down the module ID and instance</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># ID of each middleware to be enabled below.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>middlewares</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>flags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>message_muted_on_slave</span><span class=p>:</span><span class=w> </span><span class=l>silent</span><span class=w>
</span></span></span></code></pre></div><p>有兴趣的话还可以添加中间件。</p><h4 id=设置-wechat-slave class="relative group">设置 Wechat Slave <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%ae%be%e7%bd%ae-wechat-slave aria-label=锚点>#</a></span></h4><p>类似地，可以配置 Wechat Slave 的 <code>~/.ehforwarderbot/profiles/default/blueset.wechat/config.yaml</code>，这里仅仅是我的配置：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>flags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>max_quote_length</span><span class=p>:</span><span class=w> </span><span class=m>60</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>delete_on_edit</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><p>至此，微信转发已经配置完毕。</p><h4 id=设置-qq-slave class="relative group">设置 QQ Slave <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%ae%be%e7%bd%ae-qq-slave aria-label=锚点>#</a></span></h4><p>同理配置 QQ Slave 的 <code>~/.ehforwarderbot/profiles/default/milkice.qq/config.yaml</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>Client</span><span class=p>:</span><span class=w> </span><span class=l>GoCQHttp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>GoCQHttp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>HTTP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>access_token</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>api_root</span><span class=p>:</span><span class=w> </span><span class=l>http://127.0.0.1:5700/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=m>127.0.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>8000</span><span class=w>
</span></span></span></code></pre></div><h4 id=设置并运行-go-cqhttp class="relative group">设置并运行 go-cqhttp <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%ae%be%e7%bd%ae%e5%b9%b6%e8%bf%90%e8%a1%8c-go-cqhttp aria-label=锚点>#</a></span></h4><p>随后，就可以运行 <code>go-cqhttp</code> 作为我们的 QQ 客户端了，首次运行会在同目录生成配置文件，需要修改的包括：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>account</span><span class=p>:</span><span class=w> </span><span class=c># 账号相关</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>uin</span><span class=p>:</span><span class=w> </span><span class=m>123456789</span><span class=w> </span><span class=c># QQ账号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;xxxxxx&#34;</span><span class=w> </span><span class=c># 密码为空时使用扫码登录</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>message</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 上报数据类型</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 可选: string,array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>post-format</span><span class=p>:</span><span class=w> </span><span class=l>array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 为Reply附加更多信息</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>extra-reply-data</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 连接服务列表</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>servers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 添加方式，同一连接方式可添加多个，具体配置说明请查看文档</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#- http: # http 通信</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#- ws:   # 正向 Websocket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#- ws-reverse: # 反向 Websocket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c>#- pprof: #性能分析服务器</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>http</span><span class=p>:</span><span class=w> </span><span class=c># HTTP 通信设置</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>address</span><span class=p>:</span><span class=w> </span><span class=m>127.0.0.1</span><span class=p>:</span><span class=m>5700</span><span class=w> </span><span class=c># HTTP监听地址</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>post</span><span class=p>:</span><span class=w> </span><span class=c># 反向HTTP POST地址列表</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://127.0.0.1:8000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>secret</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span></code></pre></div><p>修改后，重启 <code>go-cqhttp</code>。由于 <code>go-cqhttp</code> 是单个二进制文件，我们可以编写一个脚本来管理服务（假设配置目录位于 <code>~/go-cqhttp</code>）：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/usr/bin/env bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>CONFIG_DIR</span><span class=o>=</span>~/go-cqhttp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> in
</span></span><span class=line><span class=cl>    start<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Starting go-cqhttp...&#34;</span>
</span></span><span class=line><span class=cl>        go-cqhttp -c <span class=nv>$CONFIG_DIR</span>/config.yml -d
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    stop<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Stopping go-cqhttp...&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>kill</span> <span class=k>$(</span>cat <span class=nv>$CONFIG_DIR</span>/go-cqhttp.pid<span class=k>)</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    status<span class=o>)</span>
</span></span><span class=line><span class=cl>        netstat -nplt <span class=p>|</span> grep go-cqhttp
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -ne <span class=m>0</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=k>then</span>
</span></span><span class=line><span class=cl>            <span class=nb>echo</span> <span class=s2>&#34;inactive&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>fi</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    restart<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Stopping go-cqhttp...&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>kill</span> <span class=k>$(</span>cat <span class=nv>$CONFIG_DIR</span>/go-cqhttp.pid<span class=k>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Starting go-cqhttp...&#34;</span>
</span></span><span class=line><span class=cl>        go-cqhttp -c <span class=nv>$CONFIG_DIR</span>/config.yml -d
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Usage: </span><span class=nv>$0</span><span class=s2> start|stop|status|restart&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></div><h4 id=运行-eh-forwarder-bot class="relative group">运行 EH Forwarder Bot <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%bf%90%e8%a1%8c-eh-forwarder-bot aria-label=锚点>#</a></span></h4><p>此时，终于可以启动 <code>ehforwarderbot</code> 并登录，最后就能在 Telegram bot 中收到相应的信息。经测试，部分情况下甚至会比客户端更快收到消息。</p><p>我们可以用 <code>journalctl</code> 查看 efb 日志：<code>journalctl -f -u efb.service</code>。绝大部分问题可以通过查看日志/重启进程/（删除 <code>device.json</code> 后）重新登录解决。</p><h4 id=使用事件过滤器 class="relative group">使用事件过滤器 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e4%bd%bf%e7%94%a8%e4%ba%8b%e4%bb%b6%e8%bf%87%e6%bb%a4%e5%99%a8 aria-label=锚点>#</a></span></h4><p>有时我们并不关心诸如有人加群/退群之类的消息，此时可以使用 go-cqhttp 提供的事件过滤器。首先在配置文件中开启 <code>default-middlewares.filter</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 默认中间件锚点</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>default-middlewares</span><span class=p>:</span><span class=w> </span><span class=cp>&amp;default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 事件过滤器文件目录</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>filter</span><span class=p>:</span><span class=w> </span><span class=l>filter.json</span><span class=w>
</span></span></span></code></pre></div><p>随后编写 <code>filter.json</code> 文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;.not&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;.or&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;notice_type&#34;</span><span class=p>:</span> <span class=s2>&#34;group_increase&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;notice_type&#34;</span><span class=p>:</span> <span class=s2>&#34;group_decrease&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>如果需要过滤更多类型的消息，可以参考 <a href=https://docs.go-cqhttp.org/guide/eventfilter.html#%E7%A4%BA%E4%BE%8B target=_blank>go-cqhttp 事件过滤器文档</a>。</p><h2 id=结果 class="relative group">结果 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%bb%93%e6%9e%9c aria-label=锚点>#</a></span></h2><p>经过这番折腾，基本达到了预期目标。目前使用下来非常稳定，且一次登录后不需要再重复登录。即使因为修改配置需要重启 EFB，也依然不需要额外的操作。</p><p>然而更好的体验同样伴随着一定代价：</p><ul><li>手机上代理需要常驻开启</li><li>除纯文字消息外的消息都会或多或少受到影响，更不用提更高级的功能了，因此不能在移动端完全脱离微信（基础聊天功能影响不大，如图片、视频、语音等）</li><li>其他可能存在的未知问题</li></ul><p>对于此类社交工具的轻度使用者，我认为这是可以接受的。</p><h2 id=附录利用-telegram-整合其他信息 class="relative group">附录：利用 Telegram 整合其他信息 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e9%99%84%e5%bd%95%e5%88%a9%e7%94%a8-telegram-%e6%95%b4%e5%90%88%e5%85%b6%e4%bb%96%e4%bf%a1%e6%81%af aria-label=锚点>#</a></span></h2><h3 id=slack-消息 class="relative group">Slack 消息 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#slack-%e6%b6%88%e6%81%af aria-label=锚点>#</a></span></h3><p>可以借助自动化平台 <a href=https://www.make.com/ target=_blank>Make</a> 自建 Scenario 实现，不过免费版限额比较少，仅适合用于消息不多的群组/频道。经测试，通知较为及时、交互体验良好且调试十分方便。</p><p>Make 没有官方 Telegram Bot，但也只需要用上文的方法自建一个，随后提供 token 即可。</p><h3 id=github-通知 class="relative group">GitHub 通知 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#github-%e9%80%9a%e7%9f%a5 aria-label=锚点>#</a></span></h3><p>如果只需要关注单个仓库的通知，那么选择很多，比如 <a href=https://t.me/GitHubBot target=_blank>@GitHubBot</a>，还有相应的 GitHub Actions Workflow。但如果需要接收所有的通知并转发到 Telegram，目前仅发现通过 <a href=https://ifttt.com target=_blank>IFTTT</a> 自建 Applet 可以支持，不过免费版同样限制只能使用 5 个 Applet，且每小时轮询一次，通知延时比较大。</p><p>目前发现的最佳解决方案还是 <a href=https://www.gitify.io target=_blank>Gitify</a> 和 <a href=https://neat.run target=_blank>Neat</a> 这类菜单栏 GitHub 通知软件。</p><h3 id=gmail-邮件 class="relative group">Gmail 邮件 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#gmail-%e9%82%ae%e4%bb%b6 aria-label=锚点>#</a></span></h3><p>有官方 Telegram Bot <a href=https://t.me/GmailBot target=_blank>@GmailBot</a>。</p><h3 id=rss-订阅 class="relative group">RSS 订阅 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#rss-%e8%ae%a2%e9%98%85 aria-label=锚点>#</a></span></h3><p>利用 <a href=https://docs.rsshub.app target=_blank>RSSHub</a> 生成订阅源，随后可以通过 <a href=https://t.me/RSStT_Bot target=_blank>@RSStT_Bot</a> 接收消息。这两个服务都可以自建以获得更好的体验。</p><h2 id=参考资料 class="relative group">参考资料 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99 aria-label=锚点>#</a></span></h2><ol><li><a href=https://github.com/littlecodersh/ItChat/pull/935 target=_blank>UOS Patch, itchat can work just like before</a></li><li><a href=https://hostloc.com/thread-946732-1-2.html target=_blank>微信网页版恢复了</a></li><li><a href=https://wechaty.js.org/2021/04/13/wechaty-uos-web/ target=_blank>重磅：使用 UOS 微信桌面版协议登录，wechaty 免费版 web 协议重放荣光</a></li><li><a href=https://blog.1a23.com/2017/01/09/EFB-How-to-Send-and-Receive-Messages-from-WeChat-on-Telegram-zh-CN/ target=_blank>安装并使用 EFB：在 Telegram 收发微信消息</a></li><li><a href=https://milkice.me/2018/09/17/efb-how-to-send-and-receive-messages-from-qq-on-telegram/ target=_blank>安装并使用 EFB：在 Telegram 收发 QQ 消息</a></li><li><a href=https://github.com/ehForwarderBot/efb-qq-plugin-go-cqhttp/issues/19 target=_blank>efb-qq-plugin-go-cqhttp Issue#19</a></li></ol></div></section><footer class="pt-8 max-w-prose print:hidden"><div class=flex><img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width=96 height=96 alt=Mercury src=/my_avatar_huffcabec77dc887387e1e045311cbdc8b_49733_192x192_fill_box_smart1_3.png><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">作者</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Mercury</div><div class="text-sm text-neutral-700 dark:text-neutral-400">A student</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" href=mailto:signormercurio@gmail.com target=_blank aria-label=Email rel="me noopener noreferrer"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/SignorMercurio target=_blank aria-label=Github rel="me noopener noreferrer"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" href=https://t.me/m9r_at_tG target=_blank aria-label=Telegram rel="me noopener noreferrer"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M248 8C111.033 8 0 119.033.0 256S111.033 504 248 504 496 392.967 496 256 384.967 8 248 8zM362.952 176.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452.0 013.53 6.716A43.765 43.765.0 01362.952 176.66z"/></svg></span></a></div></div></div></div><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=/posts/tailscale/><span class="mr-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-2 text-neutral-700 transition-transform group-hover:translate-x-[2px] group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">冲云破雾：Tailscale 原理简述</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2022-09-23 20:51:55 +0800 +0800">2022-09-23</time></span></span></a></span>
<span><a class="group flex text-right" href=/posts/ssi/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">自主身份：SSI 技术实践</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2022-07-02 11:04:38 +0800 +0800">2022-07-02</time></span></span>
<span class="ml-2 text-neutral-700 transition-transform group-hover:translate-x-[2px] group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div><div class=pt-3><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class=pt-3><script src=//unpkg.com/valine/dist/Valine.min.js></script><div id=vcomments class="mt-8 max-w-prose print:hidden"></div><script>new Valine({el:"#vcomments",appId:"RkxCznUcvfzFBgfMiMr0BAfd-gzGzoHsz",appKey:"sw2sEPOl4haCAXKUFYiBFMrR",avatar:"robohash",requiredFields:["nick"]})</script></div></div></footer></article><div class="pointer-events-none absolute top-[100vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer class="py-10 print:hidden"><nav class="pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex flex-col list-none sm:flex-row"><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=https://creativecommons.org/licenses/by-nc/4.0/ title>CC BY-NC 4.0</a></li></ul></nav><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2023
Mercury</p><p class="text-xs text-neutral-500 dark:text-neutral-400">由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://git.io/hugo-congo target=_blank rel="noopener noreferrer">Congo</a> 强力驱动</p></div><div class="ltr:mr-14 rtl:ml-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"><button id=appearance-switcher type=button><div class="flex items-center justify-center w-12 h-12 dark:hidden" title=切换为深色模式><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden w-12 h-12 dark:flex" title=切换为浅色模式><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://blog.sigmerc.top><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative inline-block align-text-bottom icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>